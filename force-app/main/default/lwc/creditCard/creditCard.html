<template>
  <article class="slds-card">
    <div class="slds-card__header slds-grid">
      <header class="slds-media slds-media_center">
        <div class="slds-media__body">
          <h2 class="slds-card__header-title">
            <a
              href="#"
              class="slds-card__header-link slds-truncate"
              title="Accounts"
            >
              <span>Credit Card Form</span>
            </a>
          </h2>
        </div>
      </header>
    </div>
    <div class="slds-card__body slds-card__body_inner">
      <div class="slds-m-bottom_large">
        <c-credit-card-image
          cc-number={ccNumber}
          cc-type={ccType}
          cc-holder-name={ccHolderName}
          cc-exp-month={ccExpMonth}
          cc-exp-year={ccExpYear}
          cc-ccv={ccCCV}
          cc-card-class={ccCardClass}
          cc-exp-month-display={ccExpMonthDisplay}
          cc-exp-year-display={ccExpYearDisplay}
          cc-number-display={ccNumberDisplay}
        >
        </c-credit-card-image>
      </div>
      <template if:true={cardAddedError}>
        <div class="slds-box slds-theme_warning slds-m-bottom_medium">
          <p>
            Please use a credit card with an expiration date greater than 30
            days.
          </p>
        </div>
      </template>
      <template if:true={cardAddedSuccess}>
        <div class="slds-box slds-theme_success slds-m-bottom_medium">
          <p>Credit card successfully added!</p>
        </div>
      </template>
      <c-credit-card-form
        onprocesscardnumber={handleCardNumber}
        onprocesscardholdername={handleCardHolderName}
        onprocesscardccv={handleCardCCV}
        onprocesscardexpmonth={handleCardExpMonth}
        onprocesscardexpyear={handleCardExpYear}
        onformsubmission={handleFormSubmission}
        cc-exp-month={ccExpMonth}
        cc-exp-year={ccExpYear}
      >
      </c-credit-card-form>
    </div>
    <template if:true={processing}>
      <div class="slds-spinner_container">
        <div
          role="status"
          class="slds-spinner slds-spinner_medium slds-spinner_brand"
        >
          <span class="slds-assistive-text">Loading</span>
          <div class="slds-spinner__dot-a"></div>
          <div class="slds-spinner__dot-b"></div>
        </div>
      </div>
    </template>
  </article>
</template>
